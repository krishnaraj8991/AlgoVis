!function(a){var r={};function t(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return a[e].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=a,t.c=r,t.d=function(a,r,e){t.o(a,r)||Object.defineProperty(a,r,{enumerable:!0,get:e})},t.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},t.t=function(a,r){if(1&r&&(a=t(a)),8&r)return a;if(4&r&&"object"===typeof a&&a&&a.__esModule)return a;var e=Object.create(null);if(t.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:a}),2&r&&"string"!=typeof a)for(var i in a)t.d(e,i,function(r){return a[r]}.bind(null,i));return e},t.n=function(a){var r=a&&a.__esModule?function(){return a.default}:function(){return a};return t.d(r,"a",r),r},t.o=function(a,r){return Object.prototype.hasOwnProperty.call(a,r)},t.p="/AlgoVis/",t(t.s=0)}([function(a,r,t){"use strict";function e(a,r,t){return r in a?Object.defineProperty(a,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[r]=t,a}function i(a,r){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(a);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable}))),t.push.apply(t,e)}return t}function n(a){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){e(a,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(t,r))}))}return a}t.r(r);var o,p=!1,s=null,h=function(){for(var a=o.graph.size,r=0;r<a;r++)for(var t=0;t<a;t++)5!=o.graph.graph[r][t]&&7!=o.graph.graph[r][t]&&8!=o.graph.graph[r][t]||(o.graph.graph[r][t]=0)};function l(a){var r=Date.now(),t=null;do{t=Date.now()}while(t-r<a)}var g=function(){var a=Date.now();a-s<2e4?l(70):a-s<4e4&&l(10)};function u(a){for(var r,t,e=a.length;0!==e;)t=Math.floor(Math.random()*e),r=a[e-=1],a[e]=a[t],a[t]=r;return a}var f=function(a){var r=a.i,t=a.j,e=a.length,i=o.graph.portal1,n=o.graph.portal2;o.graph.ActivePortal&&(r==i.i&&t==i.j?(r=n.i,t=n.j):r==n.i&&t==n.j&&(r=i.i,t=i.j));var p=[];return p.push({i:r,j:(t+e-1)%e}),p.push({i:r,j:(t+1)%e}),p.push({i:(r+e-1)%e,j:t}),p.push({i:(r+1)%e,j:t}),r%2!=0?(p.push({i:(r+e-1)%e,j:(t+e-1)%e}),p.push({i:(r+e+1)%e,j:(t+e-1)%e})):(p.push({i:(r+e-1)%e,j:(t+e+1)%e}),p.push({i:(r+e+1)%e,j:(t+e+1)%e})),p},c=function(){for(var a=o.graph.graph,r=o.graph.size,t=o.graph.start,e=o.graph.target,i=[t],s=!1;0!=i.length;){s=!1;var h=i[i.length-1];if(h.i==e.i&&h.j==e.j)return{FinalPath:i,isFinalPath:0!=i.length};var l=f(n(n({},h),{},{length:r}));(l=u(l)).forEach((function(r,t){var e=r.i,n=r.j;if(!s&&5!=a[e][n]&&1!=a[e][n]&&(3!=a[e][n]&&4!=a[e][n]&&9!=a[e][n]&&10!=a[e][n]&&(a[e][n]=5),!i.some((function(a){return a.i==r.i&&a.j==r.j}))&&(i.push(r),s=!0,p))){var o=[r];postMessage({type:"SetExploredNodes",payload:JSON.stringify({arr:o})}),g()}})),s||i.pop()}return{FinalPath:i,isFinalPath:0!=i.length}},j=function(){for(var a=o.graph.graph,r=[],t=o.graph.size,e=0;e<t;e++){for(var i=[],s=0;s<t;s++)i.push({i:-1,j:-1});r.push([].concat(i))}var h=o.graph.start,l=o.graph.target,u=!1,c=[h];r[h.i][h.j]=h;o.graph.portal1,o.graph.portal2;for(var j=function(){var e=c.shift();if(e.i==l.i&&e.j==l.j)u=!0;else{if(p){var i=[e];postMessage({type:"SetExploredNodes",payload:JSON.stringify({arr:i})}),g()}f(n(n({},e),{},{length:t})).forEach((function(t,i){var n=t.i,o=t.j;5!=a[n][o]&&1!=a[n][o]&&(3!=a[n][o]&&4!=a[n][o]&&9!=a[n][o]&&10!=a[n][o]&&(a[n][o]=5),-1==r[n][o].i&&(r[n][o]=e),c.push({i:n,j:o}))}))}};0!=c.length&&!u;)j();for(var v=r[l.i][l.j],y=[],d={i:-1,j:-1};v.i!=d.i||v.j!=d.j;)y.unshift(v),d.i=v.i,d.j=v.j,v=r[v.i][v.j];return{FinalPath:y,isFinalPath:0!=y.length}},v=function(a){var r=-1,t={i:0,j:0};return a.forEach((function(a){var e=function(a){var r=a.i,t=a.j,e=o.graph.target,i=o.graph.start,n=Math.abs(i.i-r)+Math.abs(i.j-t),p=o.graph.boundary,s=o.graph.size,h=Math.sqrt(Math.pow(e.i-r,2)+Math.pow(e.j-t,2)),l=-1;return p||(l=Math.sqrt(Math.pow(e.i-r+s,2)+Math.pow(e.j-t+s,2)),h=Math.min(h,l)),n+2*h}(a);(e<r||-1==r)&&(r=e,t=a)})),t},y=function(){for(var a=o.graph.graph,r=[],t=o.graph.size,e=0;e<t;e++){for(var i=[],s=0;s<t;s++)i.push({i:-1,j:-1});r.push([].concat(i))}var h=o.graph.start,l=o.graph.target,u=!1,c=[h];r[h.i][h.j]=h;o.graph.portal1,o.graph.portal2;for(var j=function(){var e=v(c);if(c=c.filter((function(a){return a.i!=e.i||a.j!=e.j})),e.i==l.i&&e.j==l.j)u=!0;else{if(p){var i=[e];postMessage({type:"SetExploredNodes",payload:JSON.stringify({arr:i})}),g()}f(n(n({},e),{},{length:t})).forEach((function(t,i){var n=t.i,o=t.j;5!=a[n][o]&&1!=a[n][o]&&(3!=a[n][o]&&4!=a[n][o]&&9!=a[n][o]&&10!=a[n][o]&&(a[n][o]=5),-1==r[n][o].i&&(r[n][o]=e),c.push({i:n,j:o}))}))}};0!=c.length&&!u;)j();for(var y=r[l.i][l.j],d=[],P={i:-1,j:-1};y.i!=P.i||y.j!=P.j;)d.unshift(y),P.i=y.i,P.j=y.j,y=r[y.i][y.j];return{FinalPath:d,isFinalPath:0!=d.length}},d=function(a){var r=-1,t={i:0,j:0};return a.forEach((function(a){var e=function(a){var r=a.i,t=a.j,e=o.graph.target,i=(o.graph.start,o.graph.boundary),n=o.graph.size,p=Math.sqrt(Math.pow(e.i-r,2)+Math.pow(e.j-t,2)),s=-1;return i||(s=Math.sqrt(Math.pow(e.i-r+n,2)+Math.pow(e.j-t+n,2)),p=Math.min(p,s)),p}(a);(e<r||-1==r)&&(r=e,t=a)})),t},P=function(){for(var a=o.graph.graph,r=[],t=o.graph.size,e=0;e<t;e++){for(var i=[],s=0;s<t;s++)i.push({i:-1,j:-1});r.push([].concat(i))}var h=o.graph.start,l=o.graph.target,u=!1,c=[h];r[h.i][h.j]=h;o.graph.portal1,o.graph.portal2;for(var j=function(){var e=d(c);if(c=c.filter((function(a){return a.i!=e.i||a.j!=e.j})),e.i==l.i&&e.j==l.j)u=!0;else{if(p){var i=[e];postMessage({type:"SetExploredNodes",payload:JSON.stringify({arr:i})}),g()}f(n(n({},e),{},{length:t})).forEach((function(t,i){var n=t.i,o=t.j;5!=a[n][o]&&1!=a[n][o]&&(3!=a[n][o]&&4!=a[n][o]&&9!=a[n][o]&&10!=a[n][o]&&(a[n][o]=5),-1==r[n][o].i&&(r[n][o]=e),c.push({i:n,j:o}))}))}};0!=c.length&&!u;)j();for(var v=r[l.i][l.j],y=[],P={i:-1,j:-1};v.i!=P.i||v.j!=P.j;)y.unshift(v),P.i=v.i,P.j=v.j,v=r[v.i][v.j];return{FinalPath:y,isFinalPath:0!=y.length}},b=function(a){if(a){var r=a.data,t=r.type,e=r.payload;switch(t){case"Hello":postMessage({type:"Hello",payload:"Hello From Worker"});break;case"CurrentState":o=JSON.parse(e);break;case"Start":o=JSON.parse(e),h(),postMessage({type:"FixGrid",payload:JSON.stringify(o.graph.graph)}),postMessage({type:"ConsoleLog",payload:"Started Algo"}),function(){o.graph.graph,o.graph.size;s=Date.now();var a=o.theme.algo;o.graph.portal1,o.graph.portal2;p=!0;var r=[],t=!1;switch(a){case"Astar":var e=y();r=e.FinalPath,t=e.isFinalPath;break;case"BFS":var i=j();r=i.FinalPath,t=i.isFinalPath;break;case"DFS":var n=c();r=n.FinalPath,t=n.isFinalPath;break;case"GreedyBFS":var h=P();r=h.FinalPath,t=h.isFinalPath}p=!1;if(t){var l=0;if(r.length<20)for(;l<r.length;){var u=[r[l]];postMessage({type:"SetFinalPath",payload:JSON.stringify({arr:u})}),g(),l++}else postMessage({type:"SetFinalPath",payload:JSON.stringify({arr:r})})}}();break;case"InstantAlgo":(o=JSON.parse(e)).graph.graph[o.graph.start.i][o.graph.start.j]=3,o.graph.graph[o.graph.target.i][o.graph.target.j]=4,postMessage({type:"ConsoleLog",payload:"Instant Algo Called"}),h(),function(){var a=o.graph.graph,r=(o.graph.size,[]),t=!1;switch(o.theme.algo){case"Astar":var e=y();r=e.FinalPath,t=e.isFinalPath;break;case"BFS":var i=j();r=i.FinalPath,t=i.isFinalPath;break;case"DFS":var n=c();r=n.FinalPath,t=n.isFinalPath;break;case"GreedyBFS":var p=P();r=p.FinalPath,t=p.isFinalPath}t&&r.map((function(r){var t=r.i,e=r.j;3!=a[t][e]&&4!=a[t][e]&&9!=a[t][e]&&10!=a[t][e]&&(a[t][e]=7)})),postMessage({type:"FixGrid",payload:JSON.stringify(a)})}(),postMessage({type:"ConsoleLog",payload:"Algo Completed"});break;case"Stop":p=!1,clearInterval(void 0),postMessage({type:"ConsoleLog",payload:"Stop Algo"}),postMessage({type:"Stop",payload:"Stop Algo"});break;case"ConsoleLog":postMessage({type:"ConsoleLog",payload:"Received Log"})}}};onmessage=function(a){b(a)},addEventListener("message",(function(a){var t,e=a.data,i=e.type,n=e.method,o=e.id,p=e.params;"RPC"===i&&n&&((t=r[n])?Promise.resolve().then((function(){return t.apply(r,p)})):Promise.reject("No such method")).then((function(a){postMessage({type:"RPC",id:o,result:a})})).catch((function(a){var r={message:a};a.stack&&(r.message=a.message,r.stack=a.stack,r.name=a.name),postMessage({type:"RPC",id:o,error:r})}))})),postMessage({type:"RPC",method:"ready"})}]);
//# sourceMappingURL=a7ed9bd9bd44e46065d9.worker.js.map